(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{197:function(e,t,a){},204:function(e,t,a){"use strict";(function(e){var n=a(7),r=a(46),c=a(47),i=a(53),s=a(51),o=a(0),l=(a(197),a(213)),d=a(185),j=a.n(d);window.jQuery=j.a,window.$=j.a,e.jQuery=j.a;var h=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(l.a,{})})}}]),a}(o.Component);t.a=h}).call(this,a(190))},212:function(e,t,a){var n=a(81),r=function(e,t){var a=[],n=1;return e.forEach((function(e){e.specialLootReceiver&&a.push({raidNumber:n,item:e.specialLoot,itemReceiver:e.specialLootReceiver}),n++})),a};e.exports.getLogData=function(e,t){var a=function(e){return e="["+(e=(e=(e=(e=e.replace(/\xa0/g," ")).replace(/[^\x00-\x7F]/g,"")).trim()).replace(/\n/g,",\n"))+"]",JSON.parse(e)}(e),c=0,i=0,s=0,o=0,l=[1,2,3,4,5],d={},j={},h={},u=[];for(var b in a.forEach((function(e){e.specialLootReceiver&&(e.specialLootReceiver===t&&s++,o++),l.forEach((function(a){e["tobPlayer"+a].toLowerCase()===t.toLowerCase()&&function(e,t){"RekkBrad"===t.specialLootReceiver&&s++;var a=n.clone(l),r=n.remove(a,(function(t){return t!==e}));c+=t["tobPlayer"+e+"DeathCount"],r.forEach((function(e){var a=t["tobPlayer"+e];a&&(t.specialLootReceiver===a&&(j[a]?j[a]++:j[a]=1),d[a]?d[a]+=t["tobPlayer"+e+"DeathCount"]:d[a]=1,h[a]?h[a]++:h[a]=1),i+=t["tobPlayer"+e+"DeathCount"]}))}(a,e)}))})),d)u.push({name:b,total:h[b],deaths:d[b],lootDrops:j[b]||0,averageDeaths:(d[b]/h[b]).toFixed(2)});return console.log(s),{summary:{totalRaids:a.length,deaths:c,averageDeaths:(c/a.length).toFixed(2),otherPlayerDeaths:i,myLootDrops:s,totalLootDrops:o},loot:r(a),otherPlayers:u}}},213:function(e,t,a){"use strict";var n=a(41),r=a(7),c=a(46),i=a(47),s=a(111),o=a(53),l=a(51),d=a(0),j=a.n(d),h=a(205),u=a(212),b=a(292),O=a(37),m=a(209),x=a(155),g=a(65),p=a(247),v=a(97),f=a(293),D=a(192),C=a(87),y=a(291),R=a(81),w=a.n(R),k=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).toggleDirection=function(e){var t=r.state.direction[e];r.setState((function(a){return Object(n.a)(Object(n.a)({},a),{},{column:e,direction:Object(n.a)(Object(n.a)({},a.direction),{},Object(C.a)({},e,"ascending"===t?"descending":"ascending"))})}))},r.getSortedRanking=function(e,t,a){var n=w.a.sortBy(e,t);return"descending"===a&&n.reverse(),n},r.state={column:"total",direction:{name:"ascending",total:"descending",deaths:"ascending",averageDeaths:"ascending",lootDrops:"ascending"}},r}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.column,n=t.direction;return Object(r.jsxs)(y.a,{sortable:!0,celled:!0,fixed:!0,unstackable:!0,children:[Object(r.jsx)(y.a.Header,{children:Object(r.jsxs)(y.a.Row,{children:[Object(r.jsxs)(y.a.HeaderCell,{sorted:"name"===a?n.name:null,onClick:function(){return e.toggleDirection("name")},children:[Object(r.jsx)(O.a,{name:"trophy"}),"Name"]}),Object(r.jsxs)(y.a.HeaderCell,{sorted:"total"===a?n.total:null,onClick:function(){return e.toggleDirection("total")},children:[Object(r.jsx)(O.a,{name:"user"}),"Total Raids"]}),Object(r.jsxs)(y.a.HeaderCell,{sorted:"deaths"===a?n.deaths:null,onClick:function(){return e.toggleDirection("deaths")},children:[Object(r.jsx)(O.a,{name:"star"}),"Deaths"]}),Object(r.jsxs)(y.a.HeaderCell,{sorted:"averageDeaths"===a?n.averageDeaths:null,onClick:function(){return e.toggleDirection("averageDeaths")},children:[Object(r.jsx)(O.a,{name:"bomb"}),"Average Deaths"]}),Object(r.jsxs)(y.a.HeaderCell,{sorted:"lootDrops"===a?n.lootDrops:null,onClick:function(){return e.toggleDirection("lootDrops")},children:[Object(r.jsx)(O.a,{name:"gift"}),"Loot Drops"]})]})}),Object(r.jsx)(y.a.Body,{styles:{"max-height":"85vh"},children:w.a.map(this.getSortedRanking(this.props.tableData,a,n[a]),(function(e){var t=e.name,a=e.total,n=e.deaths,c=e.averageDeaths,i=e.lootDrops;return Object(r.jsxs)(y.a.Row,{children:[Object(r.jsx)(y.a.Cell,{children:t}),Object(r.jsx)(y.a.Cell,{children:a}),Object(r.jsx)(y.a.Cell,{children:n}),Object(r.jsx)(y.a.Cell,{children:c}),Object(r.jsx)(y.a.Cell,{children:i})]},t)}))})]})}}]),a}(d.Component),L=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(r.jsxs)(m.a,{columns:16,children:[Object(r.jsxs)(m.a.Row,{children:[Object(r.jsx)(m.a.Column,{width:4,textAlign:"right",children:Object(r.jsx)("b",{children:"Total Raids"})}),Object(r.jsx)(m.a.Column,{width:4,children:this.props.summary.totalRaids}),Object(r.jsx)(m.a.Column,{width:4,textAlign:"right",children:Object(r.jsx)("b",{children:"Total Deaths"})}),Object(r.jsx)(m.a.Column,{width:4,children:this.props.summary.deaths})]}),Object(r.jsxs)(m.a.Row,{children:[Object(r.jsx)(m.a.Column,{width:4,textAlign:"right",children:Object(r.jsx)("b",{children:"Average Deaths"})}),Object(r.jsx)(m.a.Column,{width:4,children:this.props.summary.averageDeaths}),Object(r.jsx)(m.a.Column,{width:4,textAlign:"right",children:Object(r.jsx)("b",{children:"Other Player Deaths"})}),Object(r.jsx)(m.a.Column,{width:4,children:this.props.summary.otherPlayerDeaths})]}),Object(r.jsxs)(m.a.Row,{children:[Object(r.jsx)(m.a.Column,{width:4,textAlign:"right",children:Object(r.jsx)("b",{children:"My Loot Drops"})}),Object(r.jsx)(m.a.Column,{width:4,children:this.props.summary.myLootDrops}),Object(r.jsx)(m.a.Column,{width:4,textAlign:"right",children:Object(r.jsx)("b",{children:"Total Loot Drops"})}),Object(r.jsx)(m.a.Column,{width:4,children:this.props.summary.totalLootDrops})]})]})}}]),a}(d.Component),S=a(290),N=a(193),F=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(c.a)(this,a),(r=t.call(this,e)).toggleDirection=function(e){var t=r.state.direction[e];r.setState((function(a){return Object(n.a)(Object(n.a)({},a),{},{column:e,direction:Object(n.a)(Object(n.a)({},a.direction),{},Object(C.a)({},e,"ascending"===t?"descending":"ascending"))})}))},r.getSortedRanking=function(e,t,a){var n=w.a.sortBy(e,t);return"descending"===a&&n.reverse(),n},r.onMyLootChange=function(e,t){var a=r.props.tableData;t.checked&&(a=r.props.tableData.filter((function(e){return e.itemReceiver.toLowerCase()===r.props.rsn.toLowerCase()}))),r.setState({myLoot:t.checked,currentData:a})},r.state={myLoot:!1,column:"raidNumber",currentData:r.props.tableData,direction:{raidNumber:"ascending",item:"ascending",itemReceiver:"ascending"}},r}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.column,n=t.direction;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("br",{}),Object(r.jsx)(S.a,{children:Object(r.jsx)(S.a.Field,{children:Object(r.jsx)(N.a,{checked:this.state.myLoot,toggle:!0,label:"My loot",onChange:this.onMyLootChange})})}),Object(r.jsxs)(y.a,{sortable:!0,celled:!0,fixed:!0,unstackable:!0,children:[Object(r.jsx)(y.a.Header,{children:Object(r.jsxs)(y.a.Row,{children:[Object(r.jsxs)(y.a.HeaderCell,{sorted:"raidNumber"===a?n.raidNumber:null,onClick:function(){return e.toggleDirection("raidNumber")},children:[Object(r.jsx)(O.a,{name:"hashtag"}),"Raid Number"]}),Object(r.jsxs)(y.a.HeaderCell,{sorted:"item"===a?n.item:null,onClick:function(){return e.toggleDirection("item")},children:[Object(r.jsx)(O.a,{name:"gift"}),"Item"]}),Object(r.jsxs)(y.a.HeaderCell,{sorted:"itemReceiver"===a?n.itemReceiver:null,onClick:function(){return e.toggleDirection("itemReceiver")},children:[Object(r.jsx)(O.a,{name:"user"}),"Item Receiver"]})]})}),Object(r.jsx)(y.a.Body,{styles:{"max-height":"85vh"},children:w.a.map(this.getSortedRanking(this.state.currentData,a,n[a]),(function(e){var t=e.raidNumber,a=e.item,n=e.itemReceiver;return Object(r.jsxs)(y.a.Row,{children:[Object(r.jsx)(y.a.Cell,{children:t}),Object(r.jsx)(y.a.Cell,{children:a}),Object(r.jsx)(y.a.Cell,{children:n})]},t)}))})]})]})}}]),a}(d.Component),A=(a(197),function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={selectedFileName:"None",rsn:""},n.uploadFile=n.uploadFile.bind(Object(s.a)(n)),n.setRSN=n.setRSN.bind(Object(s.a)(n)),n.resetState=n.resetState.bind(Object(s.a)(n)),n}return Object(i.a)(a,[{key:"setRSN",value:function(e,t){this.setState({rsn:t.value})}},{key:"resetState",value:function(e){window.location.reload()}},{key:"uploadFile",value:function(e){this.setState({selectedFileName:e.target.files[0].name,selectedFile:e.target.files[0]});var t=e.target.files[0],a=new FileReader,n=this;a.onload=function(e){n.setState({parsedData:Object(u.getLogData)(e.target.result,n.state.rsn)})},a.readAsText(t)}},{key:"render",value:function(){var e=this,t={disabled:!this.state.rsn},a=[{menuItem:"Teammates",render:function(){return Object(r.jsx)(k,{tableData:e.state.parsedData.otherPlayers})}},{menuItem:"Loot",render:function(){return Object(r.jsx)(F,{tableData:e.state.parsedData.loot,rsn:e.state.rsn})}}];return Object(r.jsxs)("div",{className:"page-container",children:[Object(r.jsxs)("div",{className:"content-wrapper",children:[Object(r.jsxs)(b.a,{as:"h2",icon:!0,textAlign:"center",children:[Object(r.jsx)(O.a,{name:"cogs",circular:!0}),Object(r.jsx)(b.a.Content,{children:"ToB Parser"})]}),Object(r.jsxs)(m.a,{centered:!0,columns:2,children:[Object(r.jsx)(x.a,{children:Object(r.jsx)("small",{children:Object(r.jsx)("i",{children:"Select your raid tracker log file found at: C:\\Users\\[WINDOWS USER]\\.runelite\\raid-data tracker\\[RS LOGIN]\\tob\\raid_tracker_data.log"})})}),Object(r.jsxs)(x.a,{children:[Object(r.jsx)(g.a,{textAlign:"right",children:Object(r.jsx)(p.a,{placeholder:"Enter RSN...",value:this.state.rsn,onChange:this.setRSN})}),Object(r.jsxs)(g.a,{children:[Object(r.jsx)(h.InputFile,{button:Object(n.a)({},t),input:{id:"input-control-id",accept:".log",onChange:this.uploadFile}}),Object(r.jsxs)(v.a,{animated:"vertical",onClick:this.resetState,children:[Object(r.jsx)(v.a.Content,{hidden:!0,children:"Reset"}),Object(r.jsx)(v.a.Content,{visible:!0,children:Object(r.jsx)(O.a,{name:"redo"})})]})]})]}),this.state.parsedData&&Object(r.jsx)(L,{summary:this.state.parsedData.summary})]}),Object(r.jsx)(m.a,{centered:!0,columns:16,children:Object(r.jsx)(x.a,{children:Object(r.jsx)(g.a,{width:14,children:this.state.parsedData&&Object(r.jsx)(f.a,{panes:a})})})})]}),Object(r.jsx)(D.a,{className:"Footer",children:Object(r.jsx)("small",{children:Object(r.jsxs)("i",{children:["This is an open source project. Repository found at: ",Object(r.jsx)("a",{href:"https://github.com/jimma-rs/tob-parser",children:"https://github.com/jimma-rs/tob-parser "})]})})})]})}}]),a}(j.a.Component));t.a=A},215:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a(0),c=a.n(r),i=a(77),s=a.n(i),o=(a(234),a(204));a(241);s.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(o.a,{})}),document.getElementById("root"))},234:function(e,t,a){}},[[215,1,2]]]);
//# sourceMappingURL=main.991ccef3.chunk.js.map